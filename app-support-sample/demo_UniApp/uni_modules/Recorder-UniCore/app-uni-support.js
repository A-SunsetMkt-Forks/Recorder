/**
本代码为RecordApp在uni-app下使用的适配代码，为压缩版（功能和源码版一致）
GitHub、许可及服务协议: https://github.com/xiangyuecn/Recorder/tree/master/app-support-sample/demo_UniApp

【授权】
在uni-app中编译到App平台时仅供测试用（App平台包括：Android App、iOS App），不可用于正式发布或商用，正式发布或商用需先联系作者获取到商用授权许可

在uni-app中编译到其他平台时无此授权限制，比如：H5、小程序，均为免费授权

获取商用授权方式：
	方式一：联系客服加入VIP支持QQ群，入群后即获得授权，在群文件中可下载此js文件最新源码
	方式二：联系客服或到DCloud插件市场购买配套的原生录音插件或uts插件，购买后即获得授权（其中uts插件还在开发中不可购买）；购买后可联系客服，同时提供订单信息，客服拉你进入VIP支持QQ群
客服联系方式：QQ 1251654593 ，或者直接联系作者QQ 753610399 （回复可能没有客服及时）。
**/

/***
录音 RecordApp: uni-app支持文件，支持 H5、App vue、App nvue、微信小程序
GitHub、许可及服务协议: https://github.com/xiangyuecn/Recorder/tree/master/app-support-sample/demo_UniApp

全局配置参数：
	RecordApp.UniAppUseLicense:"" App中使用的授权许可，获得授权后请赋值为"我已获得UniAppID=***的商用授权"（***为你项目的uni-app应用标识），设置了UniNativeUtsPlugin时默认为已授权；如果未授权，将会在App打开后第一次调用`RecordApp.RequestPermission`请求录音权限时，弹出“未获得商用授权时，App上仅供测试”提示框。
	
	RecordApp.UniNativeUtsPlugin:null App中启用原生录音插件或uts插件，由App提供原生录音，将原生插件或uts插件赋值给这个变量即可开启支持；使用原生录音插件只需赋值为{nativePlugin:true}即可（提供nativePluginName可指定插件名字，默认为RecorderNativePlugin），使用uts插件只需import插件后赋值即可（uts插件开发中，暂不可用）；如果未提供任何插件，App中将使用H5录音（在renderjs中提供H5录音）。
	
	RecordApp.UniWithoutAppRenderjs:false 不要使用或没有renderjs时，应当设为true，此时App中RecordApp完全运行在逻辑层，比如nvue页面，此时音频编码之类的操作全部在逻辑层，需要提供UniNativeUtsPlugin配置由原生插件进行录音，可视化绘制依旧可以在renderjs中进行。默认为false，RecordApp将在renderjs中进行实际的工作，然后将处理好的数据传回逻辑层，数据比较大时传输会比较慢。

不同平台环境下使用说明：
	【H5】 引入RecordApp和本js，按RecordApp的文档使用即可，和普通网页开发没有区别

	【微信小程序】 引入RecordApp和本js，同时引入RecordApp中的app-miniProgram-wx-support.js即可，录音操作和H5完全相同，其他可视化扩展等使用请参考RecordApp中的小程序说明
	
	【App vue】 引入RecordApp和本js，并创建一个<script module="xxx" lang="renderjs">，在renderjs中也引入RecordApp和本js，录音操作和H5大部分相同，部分回调需要多编写一个renderjs的处理代码，比如onProcess_renderjs，具体的请参考RecordApp文档中的app-support-sample/demo_UniApp文档
	
	【App nvue】 引入RecordApp和本js，配置RecordApp.UniWithoutAppRenderjs=true 和提供RecordApp.UniNativeUtsPlugin，录音操作和H5完全相同，但不支持可视化扩展
***/
!function(e){var n="object"==typeof window&&!!window.document,t=n?window:Object,i="https://github.com/xiangyuecn/Recorder/tree/master/app-support-sample/demo_UniApp";if(t.RecordApp){var r=t.Recorder,a=r.i18n;!function(g,m,e,b,S){"use strict";var y=m.RecordApp,C=y.CLog,W=function(){};y.UniSupportLM="2023-12-01 21:13";var h="app-uni-support.js",B=!1,P=!1,V=!1,I=!1,j=!1;(function(){/* #ifdef APP */if(S){B=!0;var e=navigator.userAgent.replace(/[_\d]/g," ");P=!/\bandroid\b/i.test(e)&&/\bios\b|\biphone\b/i.test(e)}else"object"==typeof plus&&("Android"==plus.os.name?B=!0:"iOS"==plus.os.name&&(P=B=!0)),(V=B)||C("App !plus",1)/* #endif */})(),B||((function(){/* #ifdef H5 */I=!0/* #endif */})(),(function(){/* #ifdef MP-WEIXIN */j=!0/* #endif */})());y.UniIsApp=function(){return B?P?2:1:0};var M=y.UniBtoa=function(e){if("object"==typeof uni&&uni.arrayBufferToBase64)return uni.arrayBufferToBase64(e);for(var n=new Uint8Array(e),t="",i=0,r=n.length;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)},N=y.UniAtob=function(e){if("object"==typeof uni&&uni.base64ToArrayBuffer)return uni.base64ToArrayBuffer(e);for(var n=atob(e),t=new Uint8Array(n.length),i=0,r=n.length;i<r;i++)t[i]=n.charCodeAt(i);return t.buffer};y.UniB64Enc=function(e){if("object"==typeof uni&&uni.arrayBufferToBase64){var n=y.UniStr2Buf(e);return uni.arrayBufferToBase64(n)}return btoa(unescape(encodeURIComponent(e)))},y.UniB64Dec=function(e){if("object"==typeof uni&&uni.base64ToArrayBuffer){var n=uni.base64ToArrayBuffer(e);return y.UniBuf2Str(n)}return decodeURIComponent(escape(atob(e)))},y.UniStr2Buf=function(e){for(var n=unescape(encodeURIComponent(e)),t=new Uint8Array(n.length),i=0,r=n.length;i<r;i++)t[i]=n.charCodeAt(i);return t.buffer},y.UniBuf2Str=function(e){for(var n=new Uint8Array(e),t="",i=0,r=n.length;i<r;i++)t+=String.fromCharCode(n[i]);return decodeURIComponent(escape(t))};var k=y.UniJsSource={IsSource:!1,pcm_sum:function(e){for(var n=0,t=0;t<e.length;t++)n+=Math.abs(e[t]);return n}};(function(initMemory){!function(){function l(e,t){var n=i();return(l=function(e,t){return n[e-=322]})(e,t)}function i(){var e=initMemory;return(i=function(){return e})()}var A=l;!function(e,t){for(var n=l,r=i();;)try{if(845582===-parseInt(n(647))/1+-parseInt(n(481))/2*(-parseInt(n(626))/3)+parseInt(n(403))/4*(-parseInt(n(521))/5)+-parseInt(n(412))/6+-parseInt(n(520))/7*(parseInt(n(687))/8)+parseInt(n(646))/9+parseInt(n(538))/10*(parseInt(n(443))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();var o={Support:function(e){var t=l;return j?(y[t(676)][t(522)]||C(b(t(322),0,t(343)),1),void e(!1)):I?void e(!1):B?void(!S||y[t(573)]?e(!0):e(!1)):(C(b(t(463)),3),void e(!1))},CanProcess:function(){return!0}};y[A(590)](S?A(516):A(344),o),B&&(C[A(519)]=S?A(432):A(527)),y[A(377)]||(y[A(377)]={id:0,pageShow:{}});var v=function(){return B&&!S&&!y[A(450)]};y[A(422)]=function(e){var t=A,n=y[t(377)][t(385)]={};if(j&&y[t(386)]&&y[t(386)](),v()){n[t(536)]=d(e);var r=y[t(440)];if(r){for(var i=getCurrentPages(),a=!0,o=0,s=i[t(641)];o<s;o++)if(i[o][t(458)].id==r){a=!1;break}a&&(y[t(605)]=null,y[t(440)]=null,y[t(393)]=null)}}},y[A(582)]=function(e){var t=A;if(v()){y[t(400)]=!0,y[t(387)]=1,setTimeout(function(){y[t(387)]=0});var n=e[t(332)];if(n&&n[t(337)]&&n[t(337)][t(482)]){var r=e[t(575)]||e.$&&e.$[t(530)],i=s(e);i&&r?(r==y[t(605)]&&i==y[t(440)]||C(b(t(657))+t(340)+i+t(408)+r),y[t(605)]=r,y[t(440)]!=i&&(y[t(440)]=i,y[t(393)]=n[t(337)][t(482)]())):C(b(t(505))+t(357),1)}else C(b(t(378)),1)}},y[A(475)]=function(e){var t=A;if(B&&S){if(e[t(499)])var n=window[t(334)],r=e[t(575)]||e[t(499)][t(352)][t(533)],i=e[t(499)][t(436)];if(i)if(i[t(660)]=e,n&&r){var a=t(565)+n+t(408)+r;y[t(356)]=a,i[t(348)](t(456),a),y[t(377)][a]?C(b(t(449))+t(598)+a,3):(y[t(377)][a]=1,C(b(t(528))+t(339)+a))}else C(b(t(491))+t(357),1);else C(b(t(447)),1)}};var d=function(e,t,n){var r=A;if(e){if(e[r(611)])return e[r(611)];var i=s(e),a=e[r(575)]||e.$&&e.$[r(530)]}if(t)if(n||R(),r(354)==t)i=y[r(427)],a=y[r(416)];else i=y[r(440)],a=y[r(605)];return i&&a?r(565)+i+r(408)+a:""},f=function(e){var t=A;return t(389)===e||t(354)===e?{Rec_WvCid:d(null,e)}:{Rec_WvCid:e||"?"}},s=function(e){var t=A,n=e[t(332)];return(n=n&&n[t(458)])&&n.id||0},R=function(e){var t=A;if(!y[t(393)])return b(t(667));var n=d(null,1,1),r=y[t(377)][t(385)][t(536)];if(e){if(!y[t(427)])return b(t(401));if(d(null,t(354),1)!=n)return b(t(465))}return r&&r!=n&&C(b(t(324),0,r,n),3),""};y[A(624)]=function(e,i,a){var c=A,t="";t||V||(t=b(c(570)));var o=!t&&function(e,t){var n=c;if(e&&e[n(611)])var r=/^wv_(\d+)_/[n(415)](e[n(611)]),i=r&&r[1];else{var a=e&&e[n(332)],o=a&&a[n(337)];i=(a=a&&a[n(458)])&&a.id}if(i){if(i==y[n(440)])return y[n(393)];if(o)return o[n(482)]();var s=plus[n(330)][n(364)](i);if(s)return s}return t?(R(),y[n(393)]):null}(e,null==e);if(t||o||(t=b(c(null==e?455:454))),t)return t+=b(c(680)),C(t+c(479)+i[c(651)](0,200),1),t;var n=y[c(377)][c(385)];if(n[c(623)]||(n[c(623)]=1,r()),a){var s=("a"+Math[c(333)]())[c(428)](".",""),u=0,p=function(){var e=c;if(0!=u&&u>=a[e(361)])o[e(515)](e(534)+s+e(681)+s+e(587)+i+e(682));else{var t=y[e(578)](p),n=u;u+=524288;var r=a[e(510)](n,u);o[e(515)](e(661)+s+e(639)+s+e(595)+a[e(361)]+e(391)+M(r)+e(562)+t+e(504))}};p()}else o[c(515)](i)},y[A(601)]=function(e,t,n){var r=A,i="";i||V||(i=b(r(441)));var a=!i&&d(e,null==e);if(i||a||(i=b(r(null==e?526:498))),i)return i+=b(r(514)),C(i+r(479)+t[r(651)](0,200),1),i;y[r(624)](e,r(457)+a+r(331)+t+r(492),n)};var u=A(606),r=function(){var i=A;if(V&&i(662)!=typeof UniServiceJSBridge){var e=y[i(464)];if(e){var t="";try{t=uni[i(584)](u)}catch(e){}if(e==t)return;C(b(i(396)),3)}e="r"+Math[i(333)]();try{uni[i(470)](u,e)}catch(e){}y[i(464)]=e,UniServiceJSBridge[i(577)](u),UniServiceJSBridge[i(341)](u,function(e){var t=i,n=e[t(617)]||"";if(t(444)!=n)if(t(625)!=n)if(-1==n[t(371)](t(366)))-1==n[t(371)](t(616))?C(b(t(429))+JSON[t(442)](e),1):y[t(503)](e);else{var r=y[t(377)][n];r&&r(e)}else T(e);else O(e)})}};y[A(578)]=function(t){var e=A,n=y[e(377)],r=++n.id,i=e(366)+r;return n[i]=function(e){delete n[i],t(e)},i},y[A(507)]=function(e){UniViewJSBridge[A(653)](u,e)},y[A(471)]=function(r,i,e){var a=A;if(S&&B){var o=y[a(356)];if(o){var s=y[a(377)],c=0,u=++s.id;s[a(616)+u]=function(e){c=e,t()};var p=0,t=function(){var e=a;if(0!=p&&p>=r[e(361)])return delete s[e(616)+u],void i(c);var t=p;p+=524288;var n=r[e(510)](t,p);y[e(507)]({action:e(t?572:489),wvCid:o,wvID:u,mainID:c,b64:M(n)})};t()}else e(b(a(421)))}else e(b(a(327)))},y[A(503)]=function(e){var t=A,n=e[t(583)],r=y[t(377)],i=t(616);t(489)==e[t(617)]&&(n=++r.id,r[i+n]={memory:new Uint8Array(2097152),mOffset:0});var a=r[i+n];if(a){var o=new Uint8Array(N(e[t(609)])),s=o[t(641)];if(a[t(369)]+s>a[t(535)][t(641)]){var c=new Uint8Array(a[t(535)][t(641)]+Math[t(346)](2097152,s));c[t(469)](a[t(535)][t(381)](0,a[t(369)])),a[t(535)]=c}a[t(535)][t(469)](o,a[t(369)]),a[t(369)]+=s,y[t(624)](f(e[t(430)]),t(329)+i+e[t(612)]+t(614)+n+t(477))}else C(b(t(656)),3)},y[A(663)]=function(e){var t=A;if(!V)return null;var n=y[t(377)],r=n[t(616)+e];return delete n[t(616)+e],r?r[t(535)][t(673)][t(510)](0,r[t(369)]):null},y[A(500)]=function(n,i,a,r){var o=A;if(a=a||W,r=r||W,B){var s=function(e){var t=l;r(b(t(608),0,n)+e[t(473)])};plus.io[o(420)](plus.io[o(433)],function(e){var t=o;e[t(368)][t(550)](n,{create:!0},function(n){var r=t;n[r(551)](function(e){var t=r;e[t(615)]=function(){a(n[t(659)])},e[t(559)]=s;try{e[t(636)](M(i))}catch(e){s(e)}},s)},s)},s)}else r(b(o(678)))};var a=function(e){var t=A;if(y[t(630)]){var n="";!n&&S&&(n=b(t(685))),!n&&y[t(630)][t(323)]?(c(),y[t(513)]||(n=b(t(644),0,p))):n||y[t(630)][t(414)]||(n=b(t(508))),n&&(y[t(630)]=null,C(n,1)),y[t(350)]=n}if(V){var r=b(t(539),0,g),i=y[t(630)];i&&(!e&&y[t(476)]||(y[t(476)]=1,i[t(323)]?C(b(t(410))+r):C(b(t(540))+r))),y[t(450)]?i?!e&&y[t(604)]||(y[t(604)]=1,C(b(t(395))+r)):C(b(t(359))+r,1):y[t(400)]&&(y[t(393)]?!e&&y[t(677)]||(y[t(677)]=1,C(b(t(453))+r)):C(b(t(374))+r,1))}};y[A(383)]=function(e,t,n,i){var r=A,a=[];if(j){var o=function(n){var r=l;n>=t[r(641)]?i[r(363)](e,a):e[r(629)]()[r(345)](t[n])[r(358)]({node:!0})[r(415)](function(e){var t=r;a[t(558)](e[0][t(411)]),o(n+1)})};o(0)}else if(I){for(var s=0,c=t[r(641)];s<c;s++){var u=t[s],p=e[r(436)][r(607)](u+r(632)),d=p[0],v=p[1];d?v?v[r(461)](r(589))||(v=d):(d[r(675)][r(532)]=r(579),(v=document[r(483)](r(591)))[r(348)](r(589),"1"),v[r(675)][r(460)]=v[r(675)][r(438)]=r(670),d[r(634)][r(384)](v)):C(b(r(622),0,u),1),a[r(558)](v)}i[r(363)](e,a)}else{if(V){var f=[];for(s=0,c=t[r(641)];s<c;s++)f[r(558)](r(494)+t[s]+r(666)+(s+1)+r(474));return f[r(558)](n),void y[r(601)](e,f[r(556)]("\n"))}C(b(r(688)),1)}};var c=function(){var e=A;if(!y[e(513)]){p=y[e(630)][e(541)]||e(445);try{y[e(513)]=uni[e(484)](p)}catch(e){}}},p="*",w=function(){var n=A,e=y[n(630)],r=e&&e[n(323)]?p:n(621);_(n(602),{},null,null,function(e){var t=n;t(674)==e[t(617)]?e[t(425)]?C("["+r+"]["+e[t(664)]+"]"+e[t(473)],1):C("["+r+"]["+e[t(664)]+"]"+e[t(473)]):t(418)==e[t(617)]?y[t(592)](e[t(588)],e[t(668)]):C(b(t(549),0,r)+t(419)+e[t(617)],3)})},_=function(e,t,n,r,i){var a=A,o=y[a(630)];if(o){var s={action:e,args:t||{}};i||(i=function(e){var t=a;t(426)==e[t(335)]?n&&n(e[t(394)],e):r&&r(e[t(473)])}),o[a(323)]?y[a(513)][a(414)](s,i):o[a(414)](s,i)}else{var c=y[a(350)]||b(a(637));r&&r(c)}};o[A(665)]=function(e,t){a(),e()},o[A(336)]=function(){return e(A(336))},o[A(423)]=function(){return e(A(423))};var e=function(e){var t=A;if(!v())return!1;var n=q[t(406)];if(n){var r=R(1);r?C(r,1):y[t(624)](f(n[t(544)]),t(652)+e+"()")}else C(b(t(552),0,e),3)};o[A(554)]=function(e,t,n){var s=A,r=q[s(406)];q[s(406)]=null,r&&v()&&y[s(624)](f(r[s(544)]),s(370)),!v()||y[s(387)]?(y[s(427)]=y[s(440)],y[s(416)]=y[s(605)],a(!0),function(r){var i=s;if(!V)return r();var e=y[i(459)]=y[i(459)]||{},n=function(e,t,n){C(b(i(351),0,h)+e,t||0),n||r()},t=y[i(630)];if(t||e[i(566)])return e[i(566)]=e[i(566)]||(t[i(323)]?2:1),2==e[i(566)]?n(b(i(388))):n(b(i(524)));var a=i(413)+(e[i(397)]=e[i(397)]||uni[i(576)]()[i(397)]||"0")+i(571);if(y[i(380)]){if(y[i(380)]==a)return n(a);C(b(i(580),0,a),3)}var o=function(e){var t=i;n(t(405)+h+t(417)+a+t(353)+g+" ",3,e)};if(e[i(684)])return o();o(1),e[i(684)]=1,uni[i(490)]({title:i(561),content:"文件"+h+i(328),showCancel:!1,confirmText:i(367),complete:function(){r()}})}(function(){U(e,t,n)})):n(b(s(434)))};var U=function(r,i,o){var s=A;if(S)return y[s(573)]?void i():void o(b(s(342)));var e=function(r){var i=s;if(P){C(b(i(496)));var a=function(){var e=i,t=plus[e(468)][e(638)](e(362))[e(451)](),n=t[e(462)]();1970168948==n?t[e(375)](a):1735552628==n?(C(b(e(382))),r()):(C(b(e(568))+e(542)+n,1),o(b(e(620)),!0)),plus[e(468)][e(409)](t)};a()}else C(b(i(683))),plus[i(517)][i(518)]([i(574)],function(e){var t=i;0<e[t(338)][t(641)]?(C(b(t(553))+JSON[t(442)](e)),r()):(C(b(t(669)),1,e),o(b(t(563)),!0))},function(e){var t=i;C(b(t(633))+e[t(473)],1,e),o(b(t(509))+e[t(473)])})},t=function(e){var t=s;w(),_(t(462),{},e,o)};if(y[s(450)])e(function(){t(i)});else{var a=f(s(354)),n=function(n){var r=s,e=R(1);if(e)o(b(r(398))+e);else{var t=y[r(578)](function(e){var t=r;e.ok?n():o(e[t(379)])});y[r(624)](a,r(472)+t+r(645)+JSON[r(442)](b(r(586)))+r(326)+JSON[r(442)](b(r(548),0,r(613)+h+'"'))+r(495)+u+r(355))}},c=function(e){var n=s;if(y[n(635)](r)){var t=y[n(578)](function(e){var t=n;e.ok?i():o(e[t(379)],e[t(643)])});y[n(624)](a,n(431)+!!e+n(640)+t+n(649)+t+n(404))}else o(n(360))};y[s(630)]?n(function(){e(function(){t(function(){c(!0)})})}):n(function(){e(function(){c()})})}};o[A(511)]=function(t,o,n,s){var c=A,e=q[c(406)];if(q[c(406)]=null,e&&v()&&y[c(624)](f(e[c(544)]),c(370)),!v()||y[c(387)]){q[c(618)]=o;var u=m(o);if(u[c(469)][c(402)]=!0,u[c(512)]=c(497),q[c(628)]=!1,q[c(406)]=u,y[c(392)]=u,S)return y[c(573)]?void n():void s(b(c(523)));var r=function(t){var n=c,e=JSON[n(376)](JSON[n(442)](p));e[n(658)]=e[n(658)]||48e3,e[n(596)]=e[n(668)],e[n(668)]=e[n(658)],P||null!=e[n(446)]||(e[n(446)]=y[n(650)]||"1"),w(),_(n(349),e,function(){var e=n;y[e(493)]=setInterval(function(){_(e(686),{},function(){})},5e3),t()},s)};clearInterval(y[c(493)]);var p={};for(var i in o)/_renderjs$/[c(325)](i)||(p[i]=o[i]);if(p=JSON[c(376)](JSON[c(442)](p)),y[c(450)])r(n);else{u[c(469)][c(439)]=c(600);var a=function(n,e){var r=c,t=R(1);if(t)s(b(r(547))+t);else{u[r(544)]=d(null,r(354)),q[r(628)]=e;var i=[r(478)+JSON[r(442)](p)+";"];i[r(558)](r(466)+(o[r(655)]||0)+r(407)+(o[r(373)]||0)+r(529)),(o[r(480)]||o[r(603)])&&i[r(558)](r(654)+(o[r(603)]||0)+r(610));var a=y[r(578)](function(e){var t=r;e.ok?n():s(e[t(379)])});i[r(558)](r(594)+a+r(488)+a+r(560)),y[r(601)](f(u[r(544)]),i[r(556)]("\n"))}};y[c(630)]?a(function(){var e=c;y[e(635)](t)?r(n):s(e(360))},!0):a(n)}}else s(b(c(543)))},o[A(347)]=function(e){return!!v()&&""},o[A(437)]=function(e){var t=A;if(!v())for(var n in e)/_renderjs$/[t(325)](n)&&delete e[n]};var O=function(e){var t=A,n=q[t(406)];n&&(n[t(469)][t(668)]=e[t(555)],n[t(469)][t(424)]=e[t(648)]);for(var r=e[t(502)],i=0,a=r[t(641)];i<a;i++)q(r[i],e[t(668)])},T=function(e){var t=A,n=q[t(406)];if(n){var r=new Uint8Array(N(e[t(545)]));n[t(469)][t(480)]&&n[t(469)][t(480)](r)}else C(b(t(485)),3)},q=function(e,t){var n=A,r=q[n(406)];if(r){if(r[n(525)]||r[n(619)]({envName:o[n(546)],canProcess:o[n(435)]()},t),r[n(525)]=1,e instanceof Int16Array)var i=new Int16Array(e);else i=new Int16Array(N(e));var a=k[n(672)](i);r[n(599)](i,a)}else C(b(n(486)),3)};y[A(592)]=function(e,t){var n=A;if(q[n(628)]){var r=q[n(406)];return r?void y[n(624)](f(r[n(544)]),n(627)+e+'",'+t+")"):void C(b(n(531)),3)}q(e,t)},o[A(487)]=function(n,a,r){var o=A,s=function(e){var t=l;y[t(635)](n)&&(q[t(406)]=null,c&&u&&v()&&y[t(624)](f(c[t(544)]),t(370))),r(e)},c=q[o(406)],u=!0,p=a?"":y[o(581)](),e=function(){var e=o;if(y[e(635)](n))if(q[e(406)]=null,c){if(C(e(671)+c[e(564)]+e(452)+c[e(642)]+e(557)+JSON[e(442)](q[e(618)])),!a)return d(),void s(p);c[e(448)](function(e,t,n){d(),a(e,t,n)},function(e){d(),s(e)})}else s(b(e(597))+(p?" ("+p+")":""));else s(e(360))},d=function(){var e=o;if(y[e(635)](n))for(var t in q[e(406)]=null,c[e(469)])q[e(618)][t]=c[e(469)][t]};if(S)return y[o(573)]?void e():void s(b(o(372)));var t=function(e){_(o(631),{},e,s)};if(clearInterval(y[o(493)]),y[o(450)])t(e);else{var i=function(e){var r=o;if(c){var t=R(1);if(t)s(b(r(537))+t);else{var n=y[r(578)](function(e){var t=r;if(u=!1,e.ok){c[t(469)][t(439)]=q[t(618)][t(439)],c[t(469)][t(668)]=e[t(555)],c[t(469)][t(424)]=e[t(648)],d();var n=y[t(663)](e[t(390)]);n?a(n,e[t(365)],e[t(569)]):s(b(t(501)))}else s(e[t(379)])}),i=r(467)+(a&&q[r(618)][r(506)]||0)+r(585)+!a+r(593)+n+r(679)+n+r(399);y[r(601)](f(c[r(544)]),i)}}else s(b(r(567))+(p?" ("+p+")":""))};y[o(630)]?t(function(){var e=o;y[e(635)](n)?i():s(e(360))}):i()}}}();})(["RecordApp.","publishHandler","var takeFn=","onProcess_renderjs","CjMb::无效的BigBytes回传数据","WpKg::RecordApp.UniWebViewActivate 已切换当前页面或组件的renderjs所在的WebView","nativeSampleRateTarget","fullPath","__rModule","(function(){\n\t\t\tvar cur=window.","undefined","UniMainTakeBigBytes","tag","Install",'";\n\t\t\t\tvar els=this.$ownerInstance.$el.querySelectorAll(cls+" canvas"),el=els[0],el2=els[1];\n\t\t\t\tif(!el){\n\t\t\t\t\tRecordApp.CLog(Recorder.i18n.$T("dzX0::未找到Canvas：{1}，请确保此DOM已挂载（可尝试用$nextTick等待DOM更新）",0,cls),1);\n\t\t\t\t}else if(!el2){\n\t\t\t\t\tel.style.display="none";\n\t\t\t\t\tel2=document.createElement("canvas");\n\t\t\t\t\tel2.setAttribute("el2","1"); el2.style.width=el2.style.height="100%";\n\t\t\t\t\tel.parentNode.appendChild(el2);\n\t\t\t\t}else if(!el2.getAttribute("el2")){\n\t\t\t\t\tel2=el;\n\t\t\t\t}\n\t\t\t\tvar canvas',"AGd7::需要先调用RecordApp.UniWebViewActivate方法","sampleRate","Ruxl::plus.android请求录音权限：无权限","100%","rec encode: pcm:","pcm_sum","buffer","onLog","style","Platforms","__0hyi","kxOd::非App环境，不支持保存本地文件",'",errMsg:errMsg});\n\t\t\t};\n\t\t\tRecordApp.Stop(clear?null:function(arrBuf,duration,mime){\n\t\t\t\tstopFn&&stopFn.apply(This,arguments);\n\t\t\t\tvar recSet=RecordApp.__Rec.set,t1=Date.now();\n\t\t\t\tRecordApp.CLog("开始传输"+arrBuf.byteLength+"字节的数据回逻辑层，可能会比较慢，推荐使用takeoffEncodeChunk实时获取音频文件数据可避免Stop时产生超大数据回传");\n\t\t\t\tRecordApp.UniWebViewSendBigBytesToMain(arrBuf,function(dataId){//数据可能很大\n\t\t\t\t\tRecordApp.CLog("完成传输"+arrBuf.byteLength+"字节的数据回逻辑层，耗时"+(Date.now()-t1)+"ms");\n\t\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"igw2::，不可以调用RecordApp.UniWebViewEval",".memory.buffer; delete window.","\n\t\t\t})()","7Noe::正在调用plus.android.requestPermissions请求Android原生录音权限","show","l6sY::renderjs中不支持设置RecordApp.UniNativeUtsPlugin","recordAlive","32rBXkZP","yI24::RecordApp.UniFindCanvas未适配当前环境","RXs7::微信小程序中需要：{1}","nativePlugin","SWsy::检测到有其他页面或组件调用了RecordApp.UniPageOnShow（WvCid={1}），但未调用过RecordApp.UniWebViewActivate（当前WvCid={2}），部分功能会继续使用之前Activate的WebView和组件，请确保这是符合你的业务逻辑，不是因为忘记了调用UniWebViewActivate","test",';\n\t\t\t}\n\t\t\tif(!err && !RecordApp.Platforms["UniApp-Renderjs"]){\n\t\t\t\terr=',"MujG::只允许在renderjs中调用RecordApp.UniWebViewSendBigBytesToMain","在uni-app中编译到App平台时仅供测试用，不可用于正式发布或商用，正式发布或商用需先联系作者获得授权许可（编译到其他平台时无此授权限制，比如：H5、小程序，均为免费授权）。本对话框仅在第一次请求录音权限时会弹出一次，如何去除本弹框、如何获取商用授权、更多信息请看控制台日志",'(function(){\n\t\tvar fn=RecordApp.__UniData["',"webview",'",vm=RecordApp.__uniWvCallVm;\n\t\tif(!vm || RecordApp.__uniWvCallWvCid!=wvCid){\n\t\t\tif(!RecordApp.__UniData[wvCid]){ RecordApp.CLog("renderjs中的mounted内需要调用RecordApp.UniRenderjsRegister",1); return; }\n\t\t\tvar el=document.querySelector("[rec_wv_cid_key=\'"+wvCid+"\']");\n\t\t\tvm=el&&el.__rModule;\n\t\t\tif(!vm){ RecordApp.CLog("没有找到组件的renderjs模块 WvCid="+wvCid,1); return; }\n\t\t\tRecordApp.__uniWvCallVm=vm;\n\t\t\tRecordApp.__uniWvCallWvCid=wvCid;\n\t\t}; (function(){ var This=this;\n\t\t\t',"$root","random","__WebVieW_Id__","status","Pause","$scope","granted"," WvCid="," WvCid=wv_","subscribe","Jk72::不应当出现的非H5权限请求","import 'recorder-core/src/app-support/app-miniProgram-wx-support.js'","UniApp-Main","select","max","Start_Check","setAttribute","recordStart","__uniNupErr","FabE::【在App内使用{1}的授权许可】","$vm","' ，就不会弹提示框了；或者购买了配套的原生录音插件或uts插件，设置RecordApp.UniNativeUtsPlugin参数后，也不会弹提示框。【获取授权方式一】联系作者加入VIP支持QQ群，入群后即获得授权，在群文件中可下载此js文件最新源码；【获取授权方式二】联系作者或到DCloud插件市场购买配套的原生录音插件或uts插件，购买后即获得授权（其中uts插件还在开发中不可购买）；购买后可联系作者拉你进入VIP支持QQ群。详细请参考文档: ","@req",'",val);\n\t\t})()',"__UniWvCid","!id || !cid","fields","fqhr::当前已配置RecordApp.UniWithoutAppRenderjs，必须提供原生录音插件或uts插件才能录音，请参考RecordApp.UniNativeUtsPlugin配置","Incorrect sync status","byteLength","AVAudioSession","apply","getWebviewById","duration","mainCb_","我知道啦","root","mOffset","RecordApp.Stop()","indexOf","TPhg::不应当出现的非H5录音Stop","start_renderjs","S3eF::未找到当前页面renderjs所在的WebView，如果确实没有renderjs，请设置RecordApp.UniWithoutAppRenderjs=true","requestRecordPermission","parse","__UniData","GwCz::RecordApp.UniWebViewActivate 需要传入当前页面或组件的this对象作为参数","errMsg","UniAppUseLicense","subarray","j15C::已获得iOS原生录音权限","UniFindCanvas","appendChild","pageShow","MiniProgramWx_onShow","__callWvActivate","w37G::已购买原生录音插件，获得授权许可","@act","dataId",'),mOffset:0};\n\t\t\tvar buf=new Uint8Array(RecordApp.UniAtob("',"__Rec","__uniAppWebView","value","xYRb::当前RecordApp运行在逻辑层中（性能会略低一些，可视化等插件不可用）","vEgr::不应该出现的MainReceiveBind重复绑定","appId","ksoA::无法调用RequestPermission：",'",ok:1,recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,dataId:dataId,duration:duration,mime:mime});\n\t\t\t\t},errFn);\n\t\t\t},errFn);\n\t\t})()',"__hasWvActivate","7ot0::需先调用RecordApp.RequestPermission方法","disableEnvInFix","1515028VQzDGY",'",errMsg:errMsg,isUserNotAllow:isUserNotAllow});\n\t\t\t});\n\t\t})()',"当前未获得授权许可。文件","rec",";\n\t\tvar startFn=","_cid_","deleteObject","XSYY::当前录音由原生录音插件提供支持","node","5877330xruImj","我已获得UniAppID=","request","exec","__uniAppReqComponentId","在uni-app中编译到App平台时仅供测试用（App平台包括：Android App、iOS App），不可用于正式发布或商用，正式发布或商用需先联系作者获取到商用授权许可（编译到其他平台时无此授权限制，比如：H5、小程序，均为免费授权）。未获得授权时，在App打开后第一次调用RecordApp.RequestPermission请求录音权限时，会先弹出商用授权提示框；获取到授权许可后，请在调用RequestPermission前设置 RecordApp.UniAppUseLicense='","onRecord","action=","requestFileSystem","kE91::renderjs中的mounted内需要调用RecordApp.UniRenderjsRegister才能调用RecordApp.UniWebViewSendBigBytesToMain","UniPageOnShow","Resume","bitRate","isError","success","__uniAppReqWebViewId","replace","ZHwv::[MainReceive]从renderjs发回未知数据：","wvCid","(function(){\n\t\t\tRecordApp.UniAppUseNative=","RecApp Renderjs","PUBLIC_DOWNLOADS","PkQ2::需先调用RecordApp.UniWebViewActivate，然后才可以调用RequestPermission","CanProcess","$el","AllStart_Clean","height","type","__uniAppWebViewId","lU1W::当前不是App逻辑层","stringify","1166qcjsih","recProcess","RecorderNativePlugin","android_audioSource","4jKV::RecordApp.UniRenderjsRegister 需在renderjs中调用并且传入当前模块的this","stop","mzKj::RecordApp.UniRenderjsRegister 重复注册当前页面renderjs模块，一个组件内只允许一个renderjs模块进行注册","UniWithoutAppRenderjs","sharedInstance"," srcSR:","0hyi::当前RecordApp运行在renderjs所在的WebView中（逻辑层中只能做有限的实时处理，可视化等插件均需要在renderjs中进行调用）","qDo1::未找到此页面renderjs所在的WebView","peIm::当前还未调用过RecordApp.UniWebViewActivate","rec_wv_cid_key",'(function(){\n\t\tif(!window.RecordApp){ window["console"].error("renderjs中未import导入RecordApp"); return; }\n\t\tvar wvCid="',"$page","__FabE","width","getAttribute","recordPermission","4ATo::Recorder-UniCore目前只支持：H5、APP(Android iOS)、MP-WEIXIN，其他平台环境需要自行编写适配文件实现接入","__uniAppMainReceiveBind","VsdN::需重新调用RecordApp.RequestPermission方法","var procFn=","(function(){\n\t\t\tvar stopFn=","ios","set","setStorageSync","UniWebViewSendBigBytesToMain",'(function(){\n\t\t\tvar err="",val={action:"',"message","=el2;\n\t\t\t","UniRenderjsRegister","__nnM6",");\n\t})()","var set=","   jsCode=","takeoffEncodeChunk","670412fBUIeN","$getAppWebview","createElement","requireNativePlugin","MTdp::未开始录音，但收到renderjs回传的onRecEncodeChunk","BjGP::未开始录音，但收到Uni Native PCM数据","Stop",'",ok:1});\n\t\t},function(errMsg){\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"bigBytes_start","showModal","Uc9E::RecordApp.UniRenderjsRegister 发生不应该出现的错误（可能需要升级插件代码）：","\n\t\t}).call(vm);\n\t})()","_X3Ij_alive",'\n\t\t\t\tvar cls="',';\n\t\t\t}\n\t\t\tif(err){\n\t\t\t\tval.ok=0; val.errMsg=err;\n\t\t\t}\n\t\t\tUniViewJSBridge.publishHandler("',"Y3rC::正在调用plus.ios@AVAudioSession请求iOS原生录音权限","arraybuffer","6Iql::未找到此页面renderjs所在的WebView Cid","$ownerInstance","UniSaveLocalFile","gomD::不应该出现的renderjs发回的文件数据丢失","newBuffers","__UniMainReceiveBigBytes",'"});\n\t\t})()',"ipB3::RecordApp.UniWebViewActivate 发生不应该出现的错误（可能需要升级插件代码）：","stop_renderjs","UniWebViewSendToMain","TGMm::提供的RecordApp.UniNativeUtsPlugin值不是RecordApp的uts原生录音插件","Mvl7::调用plus的权限请求出错：","slice","Start","dataType","__uniNP","TtoS::，不可以调用RecordApp.UniWebViewVueCall","evalJS","UniApp-Renderjs","android","requestPermissions","Tag","2098572oQNIXW","10BdprVv","miniProgram-wx","rSLO::不应当出现的非H5录音Start","e71S::已购买uts插件，获得授权许可","_appStart","mSbR::当前还未调用过RecordApp.UniWebViewActivate","RecApp Main","7kJS::RecordApp.UniRenderjsRegister 已注册当前页面renderjs模块",';\n\t\tset.onProcess=function(buffers,power,duration,sampleRate,newIdx){\n\t\t\tvar newBuffers=[],recSet=RecordApp.__Rec.set;\n\t\t\tfor(var i=newIdx;i<buffers.length;i++)newBuffers.push(RecordApp.UniBtoa(buffers[i].buffer));//@@Fast\n\t\t\tRecordApp.UniWebViewSendToMain({action:"recProcess",recSet_sr:recSet.sampleRate,recSet_bit:recSet.bitRate,sampleRate:sampleRate,newBuffers:newBuffers});\n\t\t\tprocFn&&procFn.apply(This,arguments);\n\t\t};',"uid","byzO::未开始录音，但收到UniNativeUtsPlugin PCM数据","display","ownerId","(function(){\n\t\t\t\tvar BigBytes=window.","memory","sWvCid","H6cq::无法调用Stop：","311130clFzdJ","1f2V:: | RecordApp的uni-app支持文档和示例：{1} ","nnM6::当前录音由uts插件提供支持","nativePluginName","denied ","XCMU::需先调用RecordApp.UniWebViewActivate，然后才可以调用Start","__wvCid","bytes","Key","Bjx9::无法调用Start：","AN0e::需在renderjs中import {1}","dl4f::{1}回传了未知内容，","getFile","createWriter","0FGq::未开始录音，不可以调用{1}","Bgls::已获得Android原生录音权限：","RequestPermission","recSet_sr","join"," set:","push","onerror",'",errMsg:errMsg});\n\t\t});',"未获得商用授权时，App上仅供测试哈",'"));\n\t\t\tcur.memory.set(buf,cur.mOffset);\n\t\t\tcur.mOffset+=buf.byteLength;\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"l7WP::用户拒绝了录音权限","recSize","wv_","uts","pP4O::未开始录音","iKhe::plus.ios请求录音权限，状态值: ","mime","TfJX::当前不是App逻辑层","的商用授权","bigBytes_chunk","UniAppUseNative","android.permission.RECORD_AUDIO","_$id","getSystemInfoSync","unsubscribe","UniMainCallBack","none","aPoj::UniAppUseLicense填写无效，如果已获取到了商用授权，请填写：{1}，否则请使用空字符串","__StopOnlyClearMsg","UniWebViewActivate","mainID","getStorageSync",";\n\t\t\tvar clear=","TSmQ::需要在页面中提供一个renderjs，在里面import导入RecordApp、录音格式编码器、可视化插件等",";\n\t\t\t\t","pcmDataBase64","el2","RegisterPlatform","canvas","UniNativeRecordReceivePCM",';\n\t\t\tvar errFn=function(errMsg){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"','RecordApp.Start(set,function(){\n\t\t\tstartFn&&startFn.call(This);\n\t\t\tRecordApp.UniWebViewSendToMain({action:"',"||{memory:new Uint8Array(","nativeSampleRateRecSet","YP4V::未开始录音"," wvCid=","envIn","unknown","UniWebViewVueCall","jsCall","takeoffEncodeChunk_renderjs","__xYRb","__uniAppComponentId","RecordApp__uniAppMainReceive","querySelectorAll","UqfI::保存文件{1}失败：","b64",';\n\t\t\tset.takeoffEncodeChunk=function(bytes){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"recEncodeChunk",bytes:RecordApp.UniBtoa(bytes.buffer)});\n\t\t\t\ttakeFn&&takeFn.apply(This,arguments);\n\t\t\t};',"Rec_WvCid","wvID",'"@/uni_modules/Recorder-UniCore/','"];\n\t\tif(fn)fn(',"onwrite","bigBytes_","action","param","envStart","0caE::用户拒绝了录音权限","RecorderUtsPlugin","k7im::未找到Canvas：{1}，请确保此DOM已挂载（可尝试用$nextTick等待DOM更新）","mrBind","UniWebViewEval","recEncodeChunk","3WYWlVf",'RecordApp.UniNativeRecordReceivePCM("',"nativeToRjs","createSelectorQuery","UniNativeUtsPlugin","recordStop"," canvas","0JQw::plus.android请求录音权限出错：","parentNode","__Sync","writeAsBinary","H753::未配置RecordApp.UniNativeUtsPlugin原生录音插件","importClass","=window.",';\r\n\t\t\tRecordApp.Current=null; //需先重置，不然native变化后install不一致\n\t\t\tRecordApp.RequestPermission(function(){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"length","srcSampleRate","isUserNotAllow","SCW9::配置了RecordApp.UniNativeUtsPlugin，但当前App未打包进原生录音插件[{1}]",'",ok:1};\n\t\t\tif(!err && !window.RecordApp){\n\t\t\t\terr=',"8078391abieNS","748948ZIgPpm","recSet_bit",'",ok:1});\n\t\t\t},function(errMsg,isUserNotAllow){\n\t\t\t\tRecordApp.UniWebViewSendToMain({action:"',"Default_Android_AudioSource","substr"])}(i,r,0,a.$T,n)}else console.error("需要先引入RecordApp，请按下面代码引入：\n1. 项目根目录 npm install recorder-core\n2. 页面中按顺序import\nimport Recorder from 'recorder-core'\nimport RecordApp from 'recorder-core/src/app-support/app.js'\nimport 你需要的音频格式编码器、可视化插件\n参考文档："+i)}();